## üíª C√†i ƒë·∫∑t

### Y√™u c·∫ßu h·ªá th·ªëng

- **Node.js**: >= 18.0.0
- **Python**: >= 3.9
- **MySQL**: >= 8.0
- **npm/yarn**: Latest version
- **Git**: Latest version

### 1. Clone Repository

```bash
git clone https://github.com/tandat8503/web-ecommerce.git
cd web-ecommerce
```

### 2. C√†i ƒë·∫∑t Backend

```bash
cd backend

# C√†i ƒë·∫∑t dependencies
npm install

# T·∫°o file .env (copy t·ª´ .env.example)
cp .env.example .env

# C·∫•u h√¨nh database trong .env
# DATABASE_URL="mysql://user:password@localhost:3306/ecommerce_db"

# Ch·∫°y Prisma migrations
npx prisma migrate dev

# Seed database (optional)
npm run seed

# T·∫°o Full-text index
npm run add-fulltext-index

# Ch·∫°y backend
npm run dev
```

Backend s·∫Ω ch·∫°y t·∫°i: `http://localhost:5000`

### 3. C√†i ƒë·∫∑t Frontend

```bash
cd frontend

# C√†i ƒë·∫∑t dependencies
npm install

# T·∫°o file .env
cp .env.example .env

# C·∫•u h√¨nh API URL trong .env
# VITE_API_URL=http://localhost:5000/api
# VITE_SOCKET_URL=http://localhost:5000

# Ch·∫°y frontend
npm run dev
```

Frontend s·∫Ω ch·∫°y t·∫°i: `http://localhost:5173`

### 4. C√†i ƒë·∫∑t AI Service

```bash
cd ai_v2

# T·∫°o virtual environment
python3 -m venv venv

# K√≠ch ho·∫°t virtual environment
# macOS/Linux:
source venv/bin/activate
# Windows:
# venv\Scripts\activate

# C√†i ƒë·∫∑t dependencies
pip install -r requirements.txt

# T·∫°o file .env
cp .env.example .env

# C·∫•u h√¨nh trong .env
# GOOGLE_API_KEY=your_gemini_api_key
# DATABASE_URL=mysql://root:@localhost:3306/ecommerce_db

# Ch·∫°y AI service
python main.py
```

AI Service s·∫Ω ch·∫°y t·∫°i: `http://localhost:8000`

### 5. Kh·ªüi t·∫°o ChromaDB (Optional)

N·∫øu ch∆∞a c√≥ d·ªØ li·ªáu vector:

```bash
cd ai_v2/scripts

# Kh·ªüi t·∫°o product vectors
python init_product_vectors.py

# Kh·ªüi t·∫°o legal documents (for admin chatbot)
python init_legal_vectors.py
```

---

## ‚öôÔ∏è C·∫•u h√¨nh

### Backend Environment Variables

```env
# Database
DATABASE_URL="mysql://root:password@localhost:3306/ecommerce_db"
DB_HOST=localhost
DB_PORT=3306
DB_USER=root
DB_PASSWORD=your_password
DB_NAME=ecommerce_db

# Server
PORT=5000
NODE_ENV=development

# JWT
JWT_SECRET=your_secret_key
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# Cloudinary
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# VNPay
VNPAY_TMN_CODE=your_tmn_code
VNPAY_HASH_SECRET=your_hash_secret
VNPAY_URL=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html
VNPAY_RETURN_URL=http://localhost:5173/payment/vnpay/callback

# GHN Shipping
GHN_API_URL=https://dev-online-gateway.ghn.vn/shiip/public-api
GHN_TOKEN=your_ghn_token
GHN_SHOP_ID=your_shop_id

# Email
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_app_password

# Google OAuth
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# AI Service
AI_SERVICE_URL=http://localhost:8000
```

### Frontend Environment Variables

```env
# API URLs
VITE_API_URL=http://localhost:5000/api
VITE_SOCKET_URL=http://localhost:5000

# Google OAuth
VITE_GOOGLE_CLIENT_ID=your_google_client_id

# VNPay
VITE_VNPAY_RETURN_URL=http://localhost:5173/payment/vnpay/callback
```

### AI Service Environment Variables

```env
# Google Gemini AI
GOOGLE_API_KEY=your_gemini_api_key

# Database
DATABASE_URL=mysql://root:@localhost:3306/ecommerce_db

# ChromaDB
CHROMA_PRODUCT_PATH=./chroma_db_product
CHROMA_LEGAL_PATH=./chroma_db_legal

# AI Service
AI_SERVICE_PORT=8000
AI_SERVICE_HOST=0.0.0.0

# Model Settings
EMBEDDING_MODEL=sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
GEMINI_MODEL=gemini-2.5-flash
```

---

## üéØ S·ª≠ d·ª•ng

### Ch·∫°y to√†n b·ªô h·ªá th·ªëng

1. **Kh·ªüi ƒë·ªông Database**:
   ```bash
   # ƒê·∫£m b·∫£o MySQL ƒëang ch·∫°y
   mysql.server start  # macOS
   # ho·∫∑c
   sudo systemctl start mysql  # Linux
   ```

2. **Kh·ªüi ƒë·ªông Backend**:
   ```bash
   cd backend
   npm run dev
   ```

3. **Kh·ªüi ƒë·ªông AI Service**:
   ```bash
   cd ai_v2
   source venv/bin/activate
   python main.py
   ```

4. **Kh·ªüi ƒë·ªông Frontend**:
   ```bash
   cd frontend
   npm run dev
   ```

### Truy c·∫≠p ·ª©ng d·ª•ng

- **Frontend**: http://localhost:5173
- **Backend API**: http://localhost:5000/api
- **AI Service**: http://localhost:8000
- **API Documentation**: http://localhost:5000/api/docs (Swagger - n·∫øu ƒë√£ c·∫•u h√¨nh)